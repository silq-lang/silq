// args: --run

def transpose[a,n:!â„•](x: (a^n)^n){
	for i in [0..n){
		for j in [0..i+1){
			(x[i][j],x[j][i]) := (x[j][i],x[i][j]);
		}
	}
	return x;
}

def identity[a,n:!â„•](x: (a^n)^n){
	for i in [0..n){
		for j in [0..n){
			(x[i][j],x[j][i]) := (x[j][i],x[i][j]);
		}
	}
	return x;
}

def main(){
	a:=transpose([[1,2,3],[4,5,6],[7,8,9]]);
	assert(a=[[1,4,7],[2,5,8],[3,6,9]]);
	assert(a=identity(a));
	return a;
}
