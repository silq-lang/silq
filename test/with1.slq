// args: --run

def deutschâ‚(f: const ğ”¹!â†’lifted ğ”¹){
	x:=0:ğ”¹;
	with x:=H(x) do if f(x){ phase(Ï€); }
	return x;
}

def deutschâ‚‚(f: const ğ”¹!â†’lifted ğ”¹){
	x:=0:ğ”¹;
	with x:=H(x) do f(x):=Z(f(x));
	return x;
}

def deutschâ‚ƒ(f: const ğ”¹!â†’lifted ğ”¹){
	x:=0:ğ”¹;
	with x:=H(x) do reverse(f)(x,Z(f(x)));
	return x;
}

def deutschâ‚„(f: const ğ”¹!â†’lifted ğ”¹){
	x:=0:ğ”¹;
	with x:=H(x){
		if f(x){
			phase(Ï€);
		}
	}
	return x;
}

def deutschâ‚…(f: const ğ”¹!â†’lifted ğ”¹){
	x:=0:ğ”¹;
	with{
		x:=H(x)
	}do{
		if f(x){
			phase(Ï€);
		}
	}
	return x;
}


def main(){
	n:=5;
	deutschs:=(deutschâ‚,deutschâ‚‚,deutschâ‚ƒ,deutschâ‚„,deutschâ‚…);
	for i in 0..n{
		deutsch:=deutschs[i];
		assert(!measure(deutsch((const x:ğ”¹)liftedâ‡’ if x then 0:ğ”¹ else 0:ğ”¹)));
		assert(!measure(deutsch((const x:ğ”¹)liftedâ‡’ if x then 1:ğ”¹ else 1:ğ”¹)));
		assert(measure(deutsch((const x:ğ”¹)liftedâ‡’ if x then 0:ğ”¹ else 1:ğ”¹)));
		assert(measure(deutsch((const x:ğ”¹)liftedâ‡’ if x then 1:ğ”¹ else 0:ğ”¹)));
	}
}

