// args: --run

def f[w: !Pi[_:!â„•]lifted. *](
	make: !Pi[n: !â„•]lifted. !â„•Ã—ğ”¹ !â†’lifted w[n],
	add: !Pi[n: !â„•]lifted. w[n] x w[n] !â†’lifted w[n],
)qfree{
	a := make[6](42,0:ğ”¹);
	b := make[6](1,0:ğ”¹);
	c := add[6](a, b);
	return c;
}

def makeUint[n: !â„•](x: !â„•,const dummy:ğ”¹)qfree: uint[n]â‡’x as uint[n];
def iaddUint[n: !â„•](x: uint[n],y: uint[n])lifted: uint[n]â‡’x+y;

def makeInt[n: !â„•](x: !â„•,const dummy:ğ”¹)qfree: int[n]â‡’ x as int[n];
def iaddInt[n: !â„•](x: int[n],y: int[n])lifted: int[n]â‡’x+y;

def main(){
	r:=(f[uint](makeUint, iaddUint), f[int](makeInt, iaddInt));
	assert(r==(43,-21));
	return r;
}
