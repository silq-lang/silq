// args: --run

def solve(f: ğ”¹^2!â†’mfree ğ”¹^2){
	(a,b):=measure(f(1:ğ”¹,1:ğ”¹));
	(c,d):=measure(f(0:ğ”¹,1:ğ”¹));
	if (a,b)=(1,0){ return 1; }
	if (a,b)=(0,1){ return 2; }
	if (c,d)=(0,1){ return 0; }
	return 3;
}

def main(){
	IxI:=(x:ğ”¹^2)mfreeâ‡’x;
	CNOTâ‚â‚‚:=(x:ğ”¹,y:ğ”¹)mfree{ yâŠ•=x; return (x,y); };
	CNOTâ‚‚â‚:=(x:ğ”¹,y:ğ”¹)mfree{ xâŠ•=y; return (x,y); };
	SWAP:=(x:ğ”¹,y:ğ”¹)mfreeâ‡’(y,x);
	return (solve(IxI),solve(CNOTâ‚â‚‚),solve(CNOTâ‚‚â‚),solve(SWAP));
}
