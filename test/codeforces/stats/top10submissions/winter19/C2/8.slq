// // TODO: go over this.
def solve[n:!â„•](x:ğ”¹^n, y:ğ”¹)qfree{
    for half_p in [1..((n-1) div 2)]{
        for k in [0..(2*half_p)..n-1]{
            for j in [0..half_p-1]{
                x[k + j] := X(x[k + j]);
            }
        }
        if (x == vector(n,1:!ğ”¹)){
            y := X(y);
        }
        if (x == vector(n,0:!ğ”¹)){
            y := X(y);
        }
        for k in [0..(2*half_p)..n-1]{
            for j in [0..half_p-1]{
                x[k + j] := X(x[k + j]);
            }
        }
    }
    return (x, y);
}
