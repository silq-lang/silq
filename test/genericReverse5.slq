
def applyQuantum[a:qtype](const f: ğŸ™!â†’mfree a,const g: a!â†’mfree ğŸ™){
	g(f()):=();
}

def applyClassical[a:ctype](const f: ğŸ™!â†’mfree a,const g: a!â†’mfree ğŸ™){
	g(f()):=(); /// error
}

def main(){
	x:=H(0);
	if x{
		phase(Ï€/2);
		applyQuantum(()â‡’phase(Ï€/2),()â‡’());
	}
	forget(H(x)=0);
	x:=H(0);
	if x{
		phase(Ï€/2);
		applyClassical((){ phase(Ï€/2); },()â‡’());
	}
	forget(H(x)=1);
}
