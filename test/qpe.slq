// skipped

import mapH;
import semiclassicalInverseQFT;

def estimatePhase[m:!â„•][a:type](const Up: Î [p:uint[m]]qfree. a â†’mfree a, u: a){
	Î¸ := H_n(vector(m,0)) as uint[m];
	measure(Up[Î¸](u));
	return sciQFT(Î¸ as ğ”¹^m as int[m]);
}

def estimatePhaseU[m:!â„•][a:type](const Up: Î [p:uint[m]]qfree. a â†’mfree a, u: a){
	Î¸ := H_n(vector(m,0)) as uint[m];
	u := Up[Î¸](u);
	QFT(Î¸) := Î¸ as ğ”¹^m as int[m];
	return (u,Î¸);	
}

import int_fixed_point_util;

def main(){
	m:=8;
	Up:=[p:uint[m]]()â‡’phaseQ(42*(p as ğ”¹^m as int[m]));
	return estimatePhase[m](Up,()) as !â„¤;
}
