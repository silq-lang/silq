// args: --run

def times3(x: uint[4]) qfree: uint[4] {
	y := x * 3;
	forget(x = 11*y);
	return y;
}

def main(){
	x:=vector(2,vector(2,0:!uint[4]));
	x[0][1][0]:=H(Z(H(x[0][1][0])));
	x[0][1]:=times3(x[0][1]);
	x[0][0]+=1;
	x[1][1]+=8;
	x[1][0]+=5;
	x[1][1][0]:=X(x[1][1][0]);
	x[1][1]Â·=3;
	x := measure[(!uint[4] x uint[4]) x !uint[4]^2](x);
	assert(x[0][0] == 1);
	assert(x[0][1] == 3);
	assert(x[1][0] == 5);
	assert(x[1][1] == 11);
	return x;
}
