
def map(lambda: ðŸ™â†’ â„){
    a := [lambda()];
    râ‚ := [lambda()]~a;
    return râ‚;
}

def main(){
    r:=map(()=>flip(1/2));
    return r[0]+r[1]; // expected: 1/2Â·Î´(1)[r]+1/4Â·Î´(0)[r]+1/4Â·Î´(2)[r]
}
