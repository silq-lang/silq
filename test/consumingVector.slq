// skipped

def makeTeleporter(){
	(sharedâ‚€,sharedâ‚):=vector(2,H(0:ğ”¹)); // TODO?x
	sharedâ‚:=dup(sharedâ‚€);
	sharedâ‚€:=H(0:ğ”¹);
	sharedâ‚:=dup(sharedâ‚€);

	def send(message:ğ”¹){
		if message { sharedâ‚€:=X(sharedâ‚€); }
		message:=H(message);
		return measure(sharedâ‚€,message);
	}
	def receive(bits:!ğ”¹^2){
		if bits[0]{ sharedâ‚:=X(sharedâ‚); }
		if bits[1]{ sharedâ‚:=Z(sharedâ‚); }
		return sharedâ‚;
	}
	return (send,receive);
}
