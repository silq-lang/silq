// args: --remove-loops --run

def indexOf[a:ctype](eq:a^2!â†’lifted !ğ”¹)[n:!â„•](haystack: a^n,needle: a){
	for i in 0..n{
		if eq(haystack[i],needle){
			return i;
		}
	}
	return -1;
}

def main(){
	indexOfğ”¹:=indexOf((x:!ğ”¹,y:!ğ”¹)liftedâ‡’x=y);
	indexOfâ„•:=indexOf((x:!â„•,y:!â„•)liftedâ‡’x=y);

	assert(indexOfğ”¹([1,1,0,1],0)=2);
	assert(indexOfâ„•([28,13,11,3],2)=-1);
	assert(indexOfâ„•([28,13,11,3],3)=3);
}
